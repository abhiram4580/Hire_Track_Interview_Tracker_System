generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id           String        @id @default(cuid())
  email        String        @unique
  username     String        @unique
  password     String
  age          Int
  gender       Gender
  college      String?
  dateOfBirth  DateTime?
  createdAt    DateTime      @default(now())
  applications Application[]
  goals        Goal[]
  reviews      Review[]
}

model Application {
  id            String            @id @default(cuid())
  company       String
  role          String
  status        ApplicationStatus
  createdAt     DateTime          @default(now())
  userId        String
  interviewDate DateTime?
  user          User              @relation(fields: [userId], references: [id])
}

model Review {
  id            String    @id @default(cuid())
  company       String
  topics        String
  experience    String
  difficulty    String
  interviewDate DateTime?
  createdAt     DateTime  @default(now())
  userId        String
  user          User      @relation(fields: [userId], references: [id])
}

model Goal {
  id        String   @id @default(cuid())
  type      String
  target    Int
  progress  Int      @default(0)
  createdAt DateTime @default(now())
  userId    String
  user      User     @relation(fields: [userId], references: [id])
}

enum ApplicationStatus {
  APPLIED
  SHORTLISTED
  ONLINE_TEST
  TECHNICAL_INTERVIEW
  HR
  OFFERED
  REJECTED
}

enum Gender {
  MALE
  FEMALE
  OTHER
}
